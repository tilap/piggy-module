'use strict';var _Object$keys=require('babel-runtime/core-js/object/keys')['default'];var _Number$isNaN=require('babel-runtime/core-js/number/is-nan')['default'];var _interopRequireDefault=require('babel-runtime/helpers/interop-require-default')['default'];var _validator=require('validator');var _validator2=_interopRequireDefault(_validator);var castValue=module.exports = function(value,type){if(value == null){return value;}switch(type.constructor){case Array:if(value.constructor !== type.constructor){throw new Error('Invalid array');}var arrayType=type[0];value.forEach(function(arrayValue,index){value[index] = castValue(arrayValue,arrayType);});return value;case Object:if(value.constructor !== type.constructor){throw new Error('Invalid object');}_Object$keys(type).forEach(function(key){value[key] = castValue(type[key],value[key]);});return value;case Function:switch(type.name){case 'Date':return value.constructor === Date?value:_validator2['default'].toDate(value);case 'String':return value.constructor === String?value:String(value);case 'Number':var v=value.constructor === Number?value:Number(value);if(_Number$isNaN(v)){throw new Error('Invalid number');}return v;case 'Object':if(value.constructor === Object){return value;}break;case 'Boolean':return value.constructor !== Boolean?Boolean(value):value === true || value === 1 || value === '1';default:return type.name === value.constructor.name?value:value.constructor.name(value);}break;default:if('ID' === type){return value;}if(value.constructor && value.constructor.name && value.constructor.name !== type){throw new Error('Invalid object ' + type.constructor.name + ', ' + type);}return value;}};
//# sourceMappingURL=../utils/castValue.js.map