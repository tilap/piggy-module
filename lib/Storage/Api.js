'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(_x8,_x9,_x10){var _again=true;_function: while(_again) {var object=_x8,property=_x9,receiver=_x10;desc = parent = getter = undefined;_again = false;if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {_x8 = parent;_x9 = property;_x10 = receiver;_again = true;continue _function;}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}}};function _interopRequireDefault(obj){return obj && obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var _Abstract=require('./Abstract');var _Abstract2=_interopRequireDefault(_Abstract);var ApiStorage=(function(_AbstractStorage){_inherits(ApiStorage,_AbstractStorage);function ApiStorage(){_classCallCheck(this,ApiStorage);_get(Object.getPrototypeOf(ApiStorage.prototype),'constructor',this).apply(this,arguments);}_createClass(ApiStorage,[{key:'get',value:function get(){var criteria=arguments.length <= 0 || arguments[0] === undefined?{}:arguments[0];var options=arguments.length <= 1 || arguments[1] === undefined?{}:arguments[1];var method='GET';var path='';var params={};return this._runRequest(method,path,params).then(function(result){alert('result');alert(result);return result;})['catch'](function(err){alert('error');alert(error);throw new Error(err.message);});}},{key:'insert',value:function insert(voData){var method='POST';}},{key:'update',value:function update(){var criteria=arguments.length <= 0 || arguments[0] === undefined?{}:arguments[0];var newValues=arguments.length <= 1 || arguments[1] === undefined?{}:arguments[1];var options=arguments.length <= 2 || arguments[2] === undefined?{}:arguments[2];var method='PATCH';}},{key:'delete',value:function _delete(criteria){var method='DELETE';}},{key:'getFetcherOption',value:function getFetcherOption(){return {method:'get',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({})};}},{key:'_runRequest',value:function _runRequest(method){var path=arguments.length <= 1 || arguments[1] === undefined?'':arguments[1];var params=arguments.length <= 2 || arguments[2] === undefined?{}:arguments[2];var url=this._collection + path;var options=this.getFetcherOption();options.method = method;return new Promise(function(resolve,reject){fetch(url,options).then(function(response){console.log('response',response);if(response.status < 200 || response.status >= 300){console.log('error',error);var error=new Error(response.statusText);error.response = response;return reject(error);}return response;}).then(function(response){console.log('status',response.status);console.log('json',response.json());return resolve(response.json());})['catch'](function(err){return reject(err);});});}}]);return ApiStorage;})(_Abstract2['default']);
//# sourceMappingURL=../Storage/Api.js.map